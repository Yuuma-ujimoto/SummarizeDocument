## Vtuber で例えるデータベース

テーブルの結合や主キー等をVtuberをデータに説明していく



### 主キー

##### ざっくり説明すると

レコードを識別するカギ

誰かと同じ値を持ってはいけない

逆に言えば主キーの情報さえあれば関連する情報も取得できる

#### Vで例えてみよう

チャンネルのURLやTwitterのIDが主キーに当たる

名前でもいいのではと思うかもしれないが同じ名前のVtuberがいてもおかしくないので名前は主キーとは言えない



### テーブルの結合

例えばテーブルにVtuberの基本的な情報が詰まっているとする

| テーブルA   | TwitterのID(主キー) | 名前     | 所属       |
| ----------- | ------------------- | -------- | ---------- |
| データの例1 | @Vamp_Kuzu          | 葛葉     | にじさんじ |
| データの例2 | @Kanae_2434         | 叶       | にじさんじ |
| データの例3 | @mzm_kosaka         | コーサカ | バルス     |

次に各VtuberのYouTubeのURLとTwitterのIDをまとめたテーブルがあるとします

| テーブルB | URL（主キー） | TwitterのID |
| ------------- | ------------- | ----------- |
| データの例1   | 省略          | @Vamp_Kuzu  |
| データの例2   | 省略          | @mzm_kosaka |

この二つのテーブルしかない時に**にじさんじ所属のライバーのYouTubeのURLが知りたい**という場合はテーブルの結合をすると簡単にデータを抽出できます。

#### テーブルAとテーブルBをつなげてみよう

**テーブルAのTwitterのID**と**テーブルBのTwitterのID**をつなげることで疑似的にテーブルCを生成します。（実際にはテーブルは作られません）

| テーブルC | URL  | TwitterのID | 名前     | 所属       |
| --------- | ---- | ----------- | -------- | ---------- |
|           | 省略 | @Vamp_Kuzu  | 葛葉     | にじさんじ |
|           | 省略 | @Kanae_2434 | 叶       | にじさんじ |
|           | 省略 | @mzm_kosaka | コーサカ | バルス     |

この疑似的にテーブルを作り出すことをテーブルの結合といいます。

#### 実際にSQL文にするとどうなる？



```mysql
SELECT
	*
FROM
	テーブルA
INNER JOIN
	テーブルB
ON
	テーブルA.TwitterのID　＝　テーブルB.TwitterのID
```

こうすることでテーブルAとBをTwitterのIDでつなぐことができました

### 詳しく解説

SELECT ~~ テーブルAまでは割愛します

結合に必要な分は

```Mysql
INNER JOIN ～～～ ON
```

です。

INNER　JOINの後に前述のFROMで指定したテーブル（この場合テーブルA）と結合を行いたいテーブル（この場合テーブルB）を指定し

ONの後に何と何でテーブルをつなぐかを指定します。この場合はテーブルAに登録されているTwiiterのIDとテーブルBに登録されているTwitterのIDをつないでいます。


# PHP関数(ユーザー定義)

PHPでは関数を自分で定義できます（ほとんどの言語でできます）

### そもそも関数とは

> プログラム中で意味や内容がまとまっている作業をひとつの手続きとしたものである
>
> by Wikipedia

要するに一連のプログラムの処理を一括りにしてまとめたものです。

関数を利用するとコードに無駄がなく見やすいコードを書くことができます。



### 関数の構成要素

関数は関数名・引数・処理・戻り値の要素で構成されています。

引数・戻り値は必須ではありませんが関数名と処理は必ず必要になります。

## 関数の書き方

```PHP
function 関数名(引数){
    //処理
    return 戻り値
}
```

### 各用語解説

#### 関数名

文字通り関数の名前です。関数を呼び出したいときに関数名を書くと対応する関数が呼び出されます。

同じ名前の関数を複数作るとエラーが発生するので気を付けましょう。

#### 引数

"いんすう" ではなく"ひきすう"と呼びます。関数に値を渡したいときに使います。

```php
function test($hoge){
    print($hoge);
}
test("aaaa");
//この場合 aaaa　という値が引数の$hogeに代入されます。

function test2($hoge,$fuga){
    print($hoge+$fuga);
}
test2(100,200);
//この場合100が$hoge・200が$fugaに代入され処理の結果300が出力されます。
```



#### 戻り値

関数が返却する値です。

```PHP
function test(){
    return "Hello World"
}
$hoge = test();
//この場合$hogeに戻り値である"hello world"という値が代入されます。
print($hoge);
// 出力結果->Hello World
//hogeやfugaはよくプログラマーがサンプルの変数名に使う名前で特に意味はありません
```



## 関数の例

#### 引数なし戻り値なしの関数

```PHP
function test(){
    print("引数と戻り値がない関数");
}
test();
//出力結果->引数と戻り値がない関数
```

#### 引数あり戻り値無しの関数

```php
function test($hoge){
    print($hoge."関数");
}
test("引数があって戻り値がない");
//出力結果->引数があって戻り値がない関数
```

#### 引数無し戻り値ありの関数

```php
function test(){
    // 戻り値は変数を返してもいいし直接値を返してもよい
    return "引数がなくて戻り値がある関数";
}
$hoge = $test();
print($hoge);
//実行結果->引数がなくて戻り値がある関数
```

#### 引数あり戻り値ありの関数

```php
function test($hoge){
    $result = $hoge."戻り値ありの関数";
    return $result;
}
$fuga = test("引数あり");
print($fuga);
// 出力結果->引数あり戻り値ありの関数
```

### ちょっと特殊なパターン

#### 戻り値がないけどreturnがある関数

```php
function test(){
    //何かしらの処理
    if (~~){
        //ある条件で関数の処理を終わらせたいとき
        return;
        //returnの処理を踏んだ時点で関数が終了し処理が止まります。
        //returnの戻り値を変数に代入するようにしていた場合はnull(空の値)が格納されます。
    }
}
```

特定の条件で関数の処理を止めたいときにもreturnは使うことができます。

